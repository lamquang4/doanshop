<!DOCTYPE html>

<link rel="icon" type="image/png" href="assets/images/pic/logo.png">
<link rel="stylesheet" href="assets/css/main.css">
<link rel="stylesheet" href="assets/css/register.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<html>
<head>

  <meta name="viewport" content="width=device-width,  initial-scale=1,maximum-scale=1">
 <title>Sign Up</title>
</head>
<body>
  <section id="header">
    <a href="index.html">
      <img src="assets/images/pic/logo.png" class="logo" alt="" >
   </a>
  <div>
   <ul id="icons">
    
  <li id="menu"><a href="index.html"  class="choose" ><span>Home</span></a></li>
          <li id="menu"><a href="brand.html" class="choose"><span>Brands</span></a></li>
         
          <li id="menu" ><a href="shop.html" class="choose"><span>Shop</span></a></li>
          <li id="menu"><a href="contact.html" class="choose"><span>Contact</span></a></li>
    
      <div class="group" id="search">
      <input type="text" placeholder="Search" name="text" class="input" onkeyup="search()">
    <svg fill="#000000" width="20px" height="20px" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg">
      <path d="M790.588 1468.235c-373.722 0-677.647-303.924-677.647-677.647 0-373.722 303.925-677.647 677.647-677.647 373.723 0 677.647 303.925 677.647 677.647 0 373.723-303.924 677.647-677.647 677.647Zm596.781-160.715c120.396-138.692 193.807-319.285 193.807-516.932C1581.176 354.748 1226.428 0 790.588 0S0 354.748 0 790.588s354.748 790.588 790.588 790.588c197.647 0 378.24-73.411 516.932-193.807l516.028 516.142 79.963-79.963-516.142-516.028Z" fill-rule="evenodd"></path>
  </svg>
  </div> 
      <li id="menu" id="lg-bag"><a href="shop.html"><i class="fa-solid fa-cart-shopping"></i></a>
      </li>
     
      <li id="menu" id="lg-user"><a href="#"><i class="fa-regular fa-circle-user fa-lg" ></i></a>
      </li>
      <a  id="close"><i class="fa-solid fa-x"></i></a>
   </ul>
  </div>
  <div id="mobile"> 
  
    <a href="shop.html"><i class="fa-solid fa-cart-shopping"></i></a>
   
  <a href="#"><i class="fa-regular fa-circle-user fa-lg" ></i></a>
  
  <i id="bar" class="fa-solid fa-bars" style="color: #000000;"></i>
  
  </div>
   </section>

 <section id="section-login">
    <div class="container" id="container">
     <div class="f-box" id="fbox">
          <h1 id="tittle">Sign Up</h1>
          <form  action="" id="form" onsubmit="register()">
             <div class="input-group">
              
              <div class="input-field" >
                <i class="fa-solid fa-user"></i>
                <input type="text" placeholder="Username" id="username">
                <div class="error"></div>
              </div>

              <div id="fpass">
           <div class="input-field">
             <i class="fa-solid fa-envelope" id="mail"></i>
             <input  type="text" placeholder="Email" id="email">
             <div class="error"></div>
            </div>

          

           <div class="input-field">
             <i class="fa-solid fa-lock"></i>
             <input type="password" placeholder="Password" id="password"> 
             <div class="error"></div>
    
            </div>
            <div class="input-field">
              <i class="fa-solid fa-lock"></i>
              <input type="password" placeholder="Confirm password" id="password2"> 
              <div class="error"></div>
            </div>

             <div class="b-field">
                 <button type="button" onclick="window.location.href='login.html'" id="subtn" >Sign in</button>
             <button type="submit" onclick="" id="sibtn">Sign up</button>
            
         </div>
          </form>
     </div>
     </div>
    
     <div class="popup" id="popup">
<img src="assets/images/pic/404-tick.png">
<h2>Thank you!</h2>
<p>You have successfully registered</p>
<button type="button" onclick="closePopup()">OK</button>
     </div>
   </section>

 <footer>
  <div id="all-footer">
  <div id="fo-text">
    <div id="long1">
      <div id="seprator1">
        <hr class="ruler1">
      </div>
    </div>
    <div id="col">
      <h2>
  ABOUT US
      </h2>
      <ul>
        <li><a href="" target="_blank">Our Company</a></li>
        <li><a href="" target="_blank">Careers</a></li>
        <li><a href="" target="_blank">Information</a></li>
        <li><a href="" target="_blank">News</a></li>
      </ul>
    </div>
  
      <div id="col">
        <h2>
  GET HELP
        </h2>
        <ul>
          <li><a href="" target="_blank">FAQs</a></li>
          <li><a href="" target="_blank">Order Status</a></li>
          <li><a href="" target="_blank">Contact Us</a></li>
          
        </ul>
      </div>
      <div id="col">
        <h2>
    JURIDICAL
        </h2>
        <ul>
          <li><a href="" target="_blank">Policy</a></li>
          <li><a href="" target="_blank">Cookie Policy</a></li>
          <li><a href="" target="_blank">Terms & Conditions</a></li>
         
        </ul>
      </div>
      <div id="col">
       
        <ul>
          <li><a href="" target="_blank"><i class="fa-brands fa-facebook"></i></a></li>
          <li><a href="" target="_blank"><i class="fa-brands fa-instagram"></i>
        </a></li>
          <li><a href="" target="_blank"><i class="fa-brands fa-youtube"></i></a></li>
          <li><a href="" target="_blank"><i class="fa-brands fa-tiktok"></i></a></li>
        </ul>
    </div>
    
      <div id="long">
        <div id="seprator">
          <hr class="ruler">
        </div>
      </div>
  
     <div class="copyright">
      <p>Â© 2023 - Vietnam Company</p>
      </div>
  
  </div>
     
     </footer>

 <script>
  const bar = document.getElementById('bar');
  const icon = document.getElementById('icons');
 
  if(bar){
    bar.addEventListener('click',() =>{
  icon.classList.add('active');
    })}
   
  window.addEventListener("resize", function() {

if (window.innerWidth >= 1138) {
  icons.classList.remove('active');
}
else{
    icons.style.right="-300px";
   }
}
);
   </script>

 <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script>
    $(document).ready(function(){
      $('#eye').click(function(){
          $(this).toggleClass('open');
          $(this).children('i').toggleClass('fa-eye-slash fa-eye');
          if($(this).hasClass('open')){
              $(this).prev().attr('type', 'text');
          }else{
              $(this).prev().attr('type', 'password');
          }
      });
  });
  const icons = document.getElementById("icons");
const dong = document.getElementById("close");
const barmenu = document.getElementById('bar');
dong.addEventListener("click", function() {
 
  icons.style.right = "-300px";
});
barmenu.addEventListener("click", function() {
  icons.style.right = "0px";
});
</script>


<script>
const form = document.getElementById('form');
const username = document.getElementById('username');
const email = document.getElementById('email');
const password = document.getElementById('password');
const password2 = document.getElementById('password2');

form.addEventListener('submit', e => {
    e.preventDefault();

    validateInputs();
});

const setError = (element, message) => {
    const inputControl = element.parentElement;
    const errorDisplay = inputControl.querySelector('.error');

    errorDisplay.innerText = message;
    inputControl.classList.add('error');
    inputControl.classList.remove('success')
}

const setSuccess = element => {
    const inputControl = element.parentElement;
    const errorDisplay = inputControl.querySelector('.error');

    errorDisplay.innerText = '';
    inputControl.classList.add('success');
    inputControl.classList.remove('error');
};

const isValidEmail = email => {
    const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(String(email).toLowerCase());
}

const validateInputs = () => {
    const usernameValue = username.value.trim();
    const emailValue = email.value.trim();
    const passwordValue = password.value.trim();
    const password2Value = password2.value.trim();

    if(usernameValue === '') {
        setError(username, 'Username is required');
    } else if (usernameValue.length < 6 ) {
        setError(username, 'Username must be at least 6 character.')
    }
    else {
        setSuccess(username);
    }
    if(emailValue === '') {
        setError(email, 'Email is required');
    } else if (!isValidEmail(emailValue)) {
        setError(email, 'Provide a valid email address');
    } 
    else {
        setSuccess(email);
    }
    if(passwordValue === '') {
        setError(password, 'Password is required');
    } else if (passwordValue.length < 6 ) {
        setError(password, 'Password must be at least 6 character.')
    }
    else {
        setSuccess(password);
    }
    if (password2Value === '') {
setError(password2, 'Password is required');
} else if (password2Value !== passwordValue) {
setError(password2, "Password doesn't match"); 
}
else {
        setSuccess(password2);
    }
};
const popup=document.getElementById("popup");
function closePopup(){
  popup.classList.remove("open-popup");
  window.location.href="login.html";

}
</script>



<script>
    function register(e) {
     event.preventDefault(); 

     var username = document.getElementById("username").value; 
     var password = document.getElementById("password").value; 
var email=document.getElementById("email").value; 
var password2=document.getElementById("password2").value; 
     if(password!==password2){
      return;
     }
     if (!isValidEmail(email)) {
    return;
  }
if(password.length<6 && password2.length<6){
  return;
}
if(username.length<6){
  alert("Username must be at least 6 characters long.");
  return;
}
if(username==='' && email==='' && password==='' && password2===''){
    return;
   }

   if (localStorage.getItem(username) !== null) {
        alert("Username already exists.");
        return; 
    }

    for (const key of Object.keys(localStorage)) {
        const storedUser = JSON.parse(localStorage.getItem(key));
        if (storedUser.email === email) {
            alert("Email already exists.");
            return; 
        }
    }

     var user = { 
      username: username,
          email: email,
          password: password
        }; 
        popup.classList.add("open-popup");
        var json = JSON.stringify(user); 
        localStorage.setItem(username, json); 
       }
       var user = { 
  username: 'user123',
  email: 'user456@gmail.com',
  password: 'user123456'
}; 

var json = JSON.stringify(user); 
localStorage.setItem('user123', json);




       const search = () => {
    if (event.keyCode === 13) {
window.location.href='shop.html';
    }};
</script>
